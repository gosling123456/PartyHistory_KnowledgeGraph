import pyecharts.options as opts
from pyecharts.charts import Bar3D

"""
Gallery 使用 pyecharts 1.1.0
参考地址: https://echarts.apache.org/examples/editor.html?c=bar3d-punch-card&gl=1

目前无法实现的功能:

1、光照和阴影暂时无法设置
"""

hours = [
    "12a",
    "1a",
    "2a",
    "3a",
    "4a",
    "5a",
    "6a",
    "7a",
    "8a",
    "9a",
    "10a",
    "11a",
    "12p",
    "1p",
    "2p",
    "3p",
    "4p",
    "5p",
    "6p",
    "7p",
    "8p",
    "9p",
    "10p",
    "11p",
]
days = ["玉米", "小麦", "水稻", "苹果", "葡萄", "桃子", "土豆"]

data = [
[[13, 13, 13], [13, 14, 14], [14, 15, 14], [15, 15, 13], [14, 13, 15], [15, 14, 14], [13, 15, 14], [15, 14, 14], [14, 15, 14], [14, 14, 13], [15, 15, 15], [15, 15, 15], [15, 14, 13], [15, 15, 13], [15, 13, 15], [15, 13, 14], [14, 14, 14], [14, 14, 13], [15, 15, 15], [13, 14, 15], [15, 15, 14], [15, 13, 15], [14, 13, 14], [14, 15, 15], [13, 13, 15], [15, 15, 14], [14, 13, 15], [15, 15, 13], [13, 13, 14], [15, 13, 14], [14, 14, 15], [15, 15, 13], [15, 14, 14], [14, 14, 15], [15, 15, 14], [14, 15, 13], [14, 13, 15], [14, 15, 14], [14, 14, 13], [14, 15, 13], [15, 14, 15], [14, 14, 14], [14, 15, 15], [14, 14, 14], [14, 14, 15], [14, 13, 15], [15, 14, 15], [15, 13, 14], [15, 13, 15], [15, 14, 15], [15, 15, 13], [14, 13, 15], [15, 13, 13], [14, 13, 13], [13, 13, 15], [15, 14, 14], [13, 15, 13], [14, 14, 15], [15, 13, 14], [13, 14, 15], [13, 13, 14], [15, 13, 13], [13, 14, 13], [15, 15, 14], [15, 13, 15], [15, 14, 15], [13, 13, 14], [14, 13, 13], [13, 13, 15], [13, 14, 15], [14, 14, 15], [13, 13, 15], [13, 14, 15], [15, 15, 14], [14, 15, 13], [13, 13, 15], [13, 13, 15], [13, 14, 15], [14, 13, 13], [14, 14, 13], [13, 15, 13], [14, 13, 14], [14, 14, 15], [15, 15, 15], [15, 13, 14], [14, 15, 15], [13, 15, 13], [14, 13, 14], [15, 14, 15], [13, 13, 14], [15, 13, 14], [14, 13, 15], [15, 15, 14], [13, 15, 14], [14, 15, 13], [15, 14, 15], [13, 13, 14], [14, 13, 13], [15, 15, 14], [13, 15, 13], [14, 15, 13], [14, 14, 15], [14, 15, 13], [13, 13, 13], [13, 13, 13], [14, 14, 14], [13, 14, 15], [15, 14, 14], [14, 14, 13], [15, 15, 13], [14, 13, 13], [15, 13, 14], [13, 13, 15], [13, 13, 13], [14, 14, 15], [14, 13, 15], [13, 14, 15], [13, 14, 14], [14, 13, 15], [15, 13, 14], [14, 15, 15], [15, 15, 15], [13, 13, 13], [15, 15, 15], [13, 14, 13], [14, 13, 15], [13, 14, 13], [15, 15, 15], [14, 14, 13], [15, 15, 15], [14, 15, 15], [13, 13, 14], [14, 13, 13], [14, 15, 14], [15, 14, 14], [13, 15, 15], [13, 14, 14], [15, 15, 15], [15, 13, 13], [13, 15, 15], [13, 13, 15], [14, 14, 15], [13, 13, 15], [14, 13, 15], [14, 15, 13], [13, 15, 14], [13, 15, 13], [13, 14, 15], [14, 15, 15], [13, 15, 15], [13, 14, 14], [14, 15, 14], [15, 15, 15], [13, 15, 15], [14, 15, 14], [15, 15, 13], [15, 15, 13], [13, 15, 15], [15, 13, 14], [14, 14, 13], [15, 15, 14], [13, 14, 15], [13, 14, 13], [15, 15, 15], [14, 13, 14], [15, 15, 13], [15, 14, 14], [15, 13, 13]]
]
data = [[d[1], d[0], d[2]] for d in data]

def run():
    (
        Bar3D()
        .add(
            series_name="",
            data=data,
            xaxis3d_opts=opts.Axis3DOpts(type_="category", data=hours),
            yaxis3d_opts=opts.Axis3DOpts(type_="category", data=days),
            zaxis3d_opts=opts.Axis3DOpts(type_="value"),
        )
        .set_global_opts(
            visualmap_opts=opts.VisualMapOpts(
                max_=20,
                range_color=[
                    "#313695",
                    "#4575b4",
                    "#74add1",
                    "#c9ffc5",
                    "#98ff92",
                    "#5bff51",
                    "#0eff00",
                    "#0cec00",
                    "#0cce00",
                    "#0db000",
                    "#0b7e00"
                ],
            )
        )
        .render("bar3d_punch_card.html")
    )
